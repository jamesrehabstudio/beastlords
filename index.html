<!doctype html>
<html>
<head>
	<title>BEAST LORDS | A Javascript game</title>
	<meta name="description" content="A Javascript game using canvas" />
	<link rel="stylesheet" href="css/style.css">
	
	<script src="js/jquery.js"></script>
	<script src="js/game.js" type="text/javascript"></script>
	<script src="js/gl.js" type="text/javascript"></script>
	<script src="js/queue.js" type="text/javascript"></script>
	<script src="maps/rooms/rooms.js" type="text/javascript"></script>
	<script src="js/data.js" type="text/javascript"></script>
	<script src="js/polygons.js" type="text/javascript"></script>
	<script src="js/input.js" type="text/javascript"></script>
	<script src="js/platformer.js" type="text/javascript"></script>
</head>
<body>
	
	<div class="wrap">
		<canvas id="game" width="512" height="480"></canvas>
	</div>
	
	<script id="2d-vertex-shader" type="x-shader/x-vertex">
		attribute vec2 a_position;
		attribute vec2 a_texCoord;
		uniform vec2 u_resolution;
		uniform vec2 u_camera;
		
		varying vec2 v_texCoord;
		
		void main() {
			vec2 pos = a_position + u_camera;
			pos.y = u_resolution.y + pos.y*-1.0;
			pos.x = pos.x - u_resolution.x;
			gl_Position = vec4(pos/(u_resolution*1.0), 0, 1);
			v_texCoord = a_texCoord;
		}
	</script>

	<script id="2d-fragment-shader" type="x-shader/x-fragment">
		precision mediump float;
		uniform sampler2D u_image;
		varying vec2 v_texCoord;
		
		void main() {
			gl_FragColor = texture2D(u_image, v_texCoord);
			//gl_FragColor = vec4(v_texCoord.x,v_texCoord.y,0,1.0);
		}
	</script>
	
	<script id="2d-fragment-solid" type="x-shader/x-fragment">
		precision mediump float;
		uniform vec4 u_color;
		
		void main() {
			gl_FragColor = u_color;
			//gl_FragColor = vec4(v_texCoord.x,v_texCoord.y,0,1.0);
		}
	</script>
		
	<script>
	window.onload = function() {
		window.dataManager = new DataManager();
		window.input = new Input();
		
		window.game = new Game( document.getElementById( 'game' ) );
		
		//game.buildPaths();
		loop();
	}
	</script>
	
	<script>
		if( window.location.hash == "#notrack" ) {
			window.ga = function(){};
		} else {
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-36519880-3', 'auto');
			ga('send', 'pageview');
		}
	</script>
</body>